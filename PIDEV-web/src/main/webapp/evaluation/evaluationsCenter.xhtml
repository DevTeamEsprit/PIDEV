<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://primefaces.org/ui" xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    lang="fr" xmlns:c="http://java.sun.com/jstl/core" xmlns:a4j="http://richfaces.org/a4j" template="/template/index.xhtml">
    <ui:param name="page_name" value="index" />

    <ui:define name="content2">
        <h2>List of evaluations</h2>
        <ul>
            <ui:repeat value="#{evaluationBean.evals}" var="eval">
                <li>
                    <h:form>
                        <h:commandButton value="Evaluation of #{eval.date}" action="#{evaluationBean.showEval}">
                            <f:setPropertyActionListener target="#{evaluationBean.date}" value="#{eval.date}" />
                            <f:setPropertyActionListener target="#{evaluationBean.evalId}" value="#{eval.id}" />
                        </h:commandButton>
                    </h:form>
                </li>
                <hr />
            </ui:repeat>
        </ul>

        <h:form id="form">

            <h:link outcome="evaluationAdd" value="Add an evaluation"></h:link>
        </h:form>

    </ui:define>
</ui:composition>